---
title: "Tailscale 使用指南：轻松打造你的个人安全网络"
date: "2025-12-02"
updated: "2025-12-08"
description: "Tailscale 是一款简单易用的 VPN 工具，可以轻松地把你的所有设备连接成一个安全的私有网络。本文将介绍 Tailscale 的基本概念和实用场景，帮助您快速上手并利用它简化网络连接。"
category: "technology"
---

你是否遇到过这些烦恼？
- 在外想用手机访问家里的电脑或 NAS，却被复杂的网络设置劝退？
- 用公共 Wi-Fi 时，总担心自己的数据被“顺手牵羊”？
- 想要和同学联机MC，却又因为复杂的内网穿透问题头疼？
- 想在笔记本、手机、平板之间传个文件，却要依赖各种限速的网盘或聊天工具？

如果答案是肯定的，那么 Tailscale 就是为你量身打造的“瑞士军刀”。

# Tailscale 是什么？

简单来说，Tailscale 是一个 VPN（虚拟专用网络）工具，但它和传统 VPN 有点不一样。它能轻松地将你的所有设备（电脑、手机、服务器等）连接起来，形成一个专属你的、安全的“虚拟局域网”。无论这些设备身处何地，连接的是什么网络，在 Tailscale 的世界里，它们都像在同一个房间里一样，可以轻松互相访问。

## 为什么我推荐 Tailscale？

- **极致简单**：安装、登录，然后就完成了！没有复杂的配置，小白也能在几分钟内搞定。
- **全平台覆盖**：完美支持 Windows、macOS、Linux、iOS、Android 等主流操作系统。
- **坚若磐石的安全**：基于先进的 WireGuard® 技术构建，为你的数据提供端到端的加密。
- **智能穿透**：自动处理复杂的 NAT 和防火墙问题，你无需了解任何网络知识。
- **灵活的访问控制**：可以精细地管理网络中哪个设备可以访问哪个服务。
- **个人使用免费**：对于个人用户和小型团队，免费计划已经足够强大。

## 我的几个实用场景分享

理论说再多，不如看看它在我的实际生活中能做什么。

1.  **随时随地，文件无缝传输**
    - 使用 **[LocalSend](https://localsend.org/)** 这类局域网传输工具，在不同设备间互传文件。有了 Tailscale，我完全不需要思考的手机用的是不是流量，电脑连接的是哪一个局域网，它们都能像在同一个 Wi-Fi 下一样，高速互传文件。

2.  **远程访问家庭 NAS 和电脑**
    - 旅行的时候，想访问家里的 NAS 下载一部电影，或者远程控制家里的电脑玩会游戏。通过 Tailscale，我可以直接输入设备的内网 IP 直接连接，而不需要思考复杂的网络配置，就像在家一样方便。

3.  **部署安全的私人服务**
    - 我想部署一些个人服务，比如 SearXNG（私人聚合搜索引擎）或 Vaultwarden（密码管理器）。我不希望将它们放在服务器上直接暴露在公网上，但是我又希望我能在任何地方安全访问它们。
    - 将这些服务只监听在 Tailscale 的虚拟网卡上。这样，只有我的设备才能访问它们，既保证了随时可用，又实现了绝对的安全。例如，我可以安全地访问密码库的管理后台，而无需担心被攻击。

## Tailscale 的安装与使用入门

Tailscale 的安装过程非常简单，几乎是“傻瓜式”的：

1.  **注册账号**：访问 [Tailscale 官网](https://tailscale.com/)，直接使用 Google、Microsoft 或 GitHub 账号登录。
> 即使你因为网络环境问题没法访问 Google， Github，也可以使用 Microsoft 账号注册登录，体验同样流畅。
2.  **下载客户端**：根据你的设备系统（Windows, macOS, Linux, iOS, Android），下载并安装对应的客户端。
3.  **登录并连接**：打开客户端，登录刚才注册的账号。
4.  **重复步骤**：在你的其他设备上重复上述步骤。

**完事！**

然后你就会发现所有设备都出现在了 [Tailscale 的控制面板](https://login.tailscale.com/admin/machines)中，并且分配了一个以 `100.x.y.z` 开头的内网 IP。此时，它们已经处于同一个虚拟局域网内了！

## 进阶玩法：探索 Tailscale 的神奇功能

除了基础的互联互通，Tailscale 还提供了一些非常强大的高级功能

### 1. 访问控制列表（[ACLs](https://login.tailscale.com/admin/acls/visual/general-access-rules)）：精细的安全管理
默认情况下，Tailscale 网络中的所有设备都可以互相访问。但在某些场景下，你可能希望限制访问权限。例如，只允许你的笔记本电脑访问服务器的 SSH 端口，或者禁止手机访问 NAS 的管理后台。
Tailscale 的 ACLs 功能允许你通过简单的 JSON 配置文件，定义详细的访问规则。这对于保护敏感数据和隔离不同用途的设备非常有用。

### 2. Magic DNS：告别难记的 IP 地址
还在费劲地记忆 `100.101.102.103` 这样的 IP 地址吗？Magic DNS 让你彻底解放。
启用该功能后，Tailscale 会自动为你的每台设备分配一个易读的域名（例如 `mylaptop.tailnet-name.ts.net`）。你只需要输入域名，或者更进一步，直接输入机器名 `mylaptop` ，就能直接访问设备，就像在本地网络中使用 `localhost` 一样方便。

#### 启用 Magic DNS 的步骤：
1. 登录到 Tailscale 管理控制台。
2. 导航到[“DNS”设置页面](https://login.tailscale.com/admin/dns)。
3. 点击"Enable Magic DNS..."选项，一路继续
4. 点击"Enable HTTPS..."选项，一路继续
> 这会自动为你的 Magic DNS 域名配置免费的 TLS 证书，确保访问时的安全性。  
> ~~实际上更大的功能性是治好总会看到浏览器显示网站不安全提示的强迫症~~
5. 保存更改。

#### 一点小问题...
关于tailnet名称的选择

> 就是 `ts.net` 前面的那一段

默认情况下，Tailscale 会为你的 tailnet 分配一个随机的名称（例如 `fluffy-lion-12345.ts.net`）。这个名称虽然独特，但可能不太符合你的审美。
不用担心，它也是可以修改的
1. 同样的在 Tailscale 管理控制台，导航到[“DNS”页面](https://login.tailscale.com/admin/dns)。
2. 在“Tailnet Name”字段中，点击"Rename Tailnet..."。
3. 在随机的域名里挑一个你喜欢的，然后保存即可。

> 非常遗憾，目前 Tailscale 并不支持完全自定义tailnet名称，但也还好了


### 3. Exit Node（出口节点）：你的私人网络跳板
这是我最喜欢的功能之一。通过将一台设备（通常是家里的 NAS 或云服务器）设置为 Exit Node，你可以让其他设备的所有流量都通过这台设备转发。
-  **保护隐私**：在公共 Wi-Fi 环境下，开启 Exit Node 可以加密你的所有流量，防止被窃听。
-  **家庭网络体验**：无论身在何处，开启后就像真的坐在家里上网一样，可以访问只有家庭网络才能访问的资源。

### 4. 7x24小时服务器的妙用
如果你有一台全天候在线的服务器（如 NAS 或 VPS），将它加入 Tailscale 网络能发挥巨大作用：
-  **作为 Exit Node**：如上所述，提供安全的上网出口。
-  **作为 Subnet Router**：如果家里还有打印机、摄像头等无法安装 Tailscale 的设备，可以将服务器设置为子网路由器，让你在外面也能访问家里的这些传统局域网设备。
-  **作为中继节点 (Relay)**：在某些复杂的网络环境（例如对称型 NAT 或严格的防火墙策略）下，当设备间无法建立直接的点对点（P2P）连接时，它可以作为加密中继节点。这能确保数据通过 Tailscale 的服务器进行安全转发，从而保障设备间通信的最终可达性与稳定性。
  
### 5. Tailscale Serve：轻松暴露本地服务
Tailscale Serve 是 Tailscale 提供的一个非常实用的功能，允许你将本地运行的 HTTP 服务通过 Tailscale 网络暴露出来，而无需进行复杂的端口转发或反向代理配置。
使用 Tailscale Serve，你只需在命令行中运行

```bash
tailscale serve --bg --set-path / http://localhost:8080
```

然后，其他私人tailnet中的设备就可以直接访问开发设备的 Magic DNS 域名，轻松地访部署在开发设备上本地的 Web 应用、API 服务的其他设备访问。这对于开发者来说尤其方便。
> 补充说明：命令中的 `--bg` 参数表示在后台运行服务，`--set-path / http://localhost:8080` 则指定了将本地的 8080 端口映射到本设备域名的根路径 `/` 上。

### 5. Sidecar 模式：巧妙实现“泛域名”解析
Tailscale Serve 虽然好用，但目前不支持泛域名解析（例如 `*.device.user-name.ts.net`）。这意味着如果你在一台服务器上部署了多个 Docker 服务，无法直接通过不同的子域名区分访问。非常可惜
不过，我们可以利用 Docker 的 Sidecar 模式来“取巧”。通过在同一台宿主机上运行多个 Tailscale 容器实例（Sidecar），每个实例都可以拥有独立的设备名和 Magic DNS 记录。这样，你就可以为不同的服务分配不同的 Tailscale 域名，变相实现了类似泛域名解析的效果，让服务访问更加优雅。
> 注意：这种方法会增加一些资源开销，因为每个 Sidecar 容器都需要运行一个完整的 Tailscale 实例。但对于个人用户来说，这种开销通常是可以接受的，尤其是当你需要多个独立域名来访问不同服务时。
> 如果你认为这种方法过于复杂，或者资源有限，也可以考虑使用反向代理（如 Caddy、Nginx）结合单一的 Tailscale 实例来实现类似的效果，虽然配置上会稍微复杂一些，但同样能够满足大部分需求。注意，该方法要求你拥有一个公网域名，并且需要在 DNS 提供商处配置指向对应设备 Tailscale 内网 ip 的解析记录。
> 对于将服务暴露在公网的安全性问题，可以令容器只监听在 Tailscale 的虚拟网卡上，从而确保只有你的 Tailnet 设备才能访问这些服务，进一步提升安全性。

#### 示例：为 SearXNG 配置 Tailscale Sidecar (Docker)

首先，你需要获取一个 Tailscale 的 Auth Key，可以在 Tailscale 管理后台设置页面的[“Keys”页面](https://login.tailscale.com/admin/settings/keys)生成一个 Key。避免你每次重启容器都要手动登录。

> 需要注意，Key最多只有90天的有效期，过期后需要重新生成并更新到容器配置中。  
> 并且Key可以选择是否可重用，如果你希望容器重启后自动登录，建议选择“Reusable”。但是很明显，这会导致安全性降低，请保存好 Key，不要泄露给他人。  
> 建议为每个 Sidecar 容器生成一个单独的 Key，方便管理和撤销。

接下来，创建一个 `docker-compose.yml` 文件，内容如下：

```yaml
services:
  ts-sidecar:
    image: tailscale/tailscale:latest
    container_name: tailscale-searxng
    hostname: searxng # 这里决定了你的 Magic DNS 域名，例如 searxng.your-name.ts.net
    environment:
      # 前往 Tailscale 后台生成一个 Auth Key，并替换到这里
      - TS_AUTHKEY=tskey-auth-xxxxxxxxxxxx
      - TS_STATE_DIR=/var/lib/tailscale
      - TS_HOSTNAME=searxng # 再次强调设备名
      - TS_USERSPACE=true # 使用用户态网络，无需 root 权限，兼容性最好
    volumes:
      - ./tailscale-data:/var/lib/tailscale # 持久化登录状态，避免容器重启后重新授权
    # 让 Tailscale 容器启动后，自动配置代理指向本地的 SearXNG 服务
    command: sh -c "/usr/local/bin/containerboot & sleep 60; tailscale serve --bg --set-path / http://127.0.0.1:80; wait"
    restart: unless-stopped

  searxng:
    image: searxng/searxng:latest
    container_name: searxng
    restart: unless-stopped
    # 让 searxng 容器共享 ts-sidecar 容器的网络命名空间，因为tailscale是不能转发非localhost流量的
    network_mode: service:ts-sidecar
    # ts-sidecar 容器先于 searxng 启动
    depends_on:
      - ts-sidecar
    volumes:
      - ./config:/etc/searxng
      - ./data:/var/cache/searxng
```

写好这个 `docker-compose.yml` 文件后，只需运行 `docker-compose up -d`，Tailscale 容器会自动启动并连接到你的 Tailnet。与此同时，SearXNG 服务也会通过 Tailscale 的虚拟网卡对你的私人tailnet提供服务。

然后直接访问 `searxng.your-name.ts.net` 就能直接打开你的私人搜索引擎了，完全不需要暴露在公网。


## 总结

Tailscale 以其极致的简单和强大的功能，真正解决了个人用户在多设备、多网络环境下的连接难题。它不仅是一个工具，更像是一把钥匙，为你打开了构建个人安全网络的大门。

如果你也曾被网络问题困扰，不妨花几分钟时间尝试一下 Tailscale，相信它会给你带来惊喜。

> 免责声明：本文并非 Tailscale 官方文档，仅为个人使用经验分享。如有错误或遗漏，欢迎指正。  
> 本文部分内容参考自 [Tailscale 官方文档](https://tailscale.com/kb/) 及社区经验。更多功能和使用技巧，建议查阅官方文档。